apps:
  mongodb:
    command: bin/service.mongodb.sh start
    daemon: simple
    plugs:
    - network
    - network-bind
    restart-condition: always
    start-timeout: 1200s
    before: [server]
  server:
    command: bin/service.server.sh start
    daemon: simple
    plugs:
    - network
    - network-bind
    restart-condition: always
    pre-start-commamd: bin/service.server.sh pre-start
    start-timeout: 1200s
    after: [mongodb]
  nginx:
    command: bin/service.nginx.sh start
    daemon: simple
    plugs:
    - network
    - network-bind
    restart-condition: always
    pre-start-command: bin/service.nginx.sh pre-start
    post-start-command: bin/service.nginx.sh post-start
    stop-command: bin/service.nginx.sh stop
    reload-command: bin/service.nginx.sh reload
    start-timeout: 1200s
    after: [server]
confinement: strict
description: Rocket.Chat
grade: stable
name: rocketchat
summary: Rocket.Chat
